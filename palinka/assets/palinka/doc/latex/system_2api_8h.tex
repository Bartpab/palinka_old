\hypertarget{system_2core_8h}{}\doxysection{C\+:/\+Users/gaelp/\+One\+Drive/\+Documents/\+Boulot/palinka/palinka/assets/palinka/src/model/system/core.h File Reference}
\label{system_2core_8h}\index{C:/Users/gaelp/OneDrive/Documents/Boulot/palinka/palinka/assets/palinka/src/model/system/core.h@{C:/Users/gaelp/OneDrive/Documents/Boulot/palinka/palinka/assets/palinka/src/model/system/core.h}}
{\ttfamily \#include \char`\"{}src/model/system/cfg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/model/error.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/utils/memory/alloc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}src/model/device/core.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}}
\begin{DoxyCompactList}\small\item\em A handler to a simulated system. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{system_2core_8h_ae2dd61af4c73d1f9873a38e854eed314}{SYSTEM\+\_\+\+NAME\+\_\+\+MAX\+\_\+\+LENGTH}}~256
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{system_2core_8h_a34b0c66e99217e5d63d5ed060e4f3f15}{sys\+\_\+init}} (struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$sys, struct \mbox{\hyperlink{struct_system_cfg__t}{System\+Cfg\+\_\+t}} $\ast$cfg, struct \mbox{\hyperlink{struct_allocator__t}{Allocator\+\_\+t}} $\ast$allocator)
\begin{DoxyCompactList}\small\item\em Initialise the system. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_2core_8h_aa67b56de8d0f22c9078686313f187c94}{sys\+\_\+push\+\_\+error}} (struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$sys, const int code, const char $\ast$msg)
\begin{DoxyCompactList}\small\item\em Push an error. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system_2core_8h_a4a6ff14c5d10af9e666ed85757fe9d32}{sys\+\_\+pop\+\_\+error}} (struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$sys, struct \mbox{\hyperlink{struct_error__t}{Error\+\_\+t}} $\ast$output)
\begin{DoxyCompactList}\small\item\em Pop an error. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system_2core_8h_aae1442f63e2c5a0496d43d2cab24ba10}{sys\+\_\+step}} (struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$sys)
\begin{DoxyCompactList}\small\item\em System step function. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{system_2core_8h_a3fde534dc80777b0a716739c9e4ce002}{sys\+\_\+interrupt}} (struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$sys, unsigned char irq)
\begin{DoxyCompactList}\small\item\em System interrupt function If an error occured (returned valued $>$ 0), an error is pushed in the system\textquotesingle{}s handler. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{system_2api_8h_ae2dd61af4c73d1f9873a38e854eed314}\label{system_2api_8h_ae2dd61af4c73d1f9873a38e854eed314}} 
\index{api.h@{api.h}!SYSTEM\_NAME\_MAX\_LENGTH@{SYSTEM\_NAME\_MAX\_LENGTH}}
\index{SYSTEM\_NAME\_MAX\_LENGTH@{SYSTEM\_NAME\_MAX\_LENGTH}!api.h@{api.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_NAME\_MAX\_LENGTH}{SYSTEM\_NAME\_MAX\_LENGTH}}
{\footnotesize\ttfamily \#define SYSTEM\+\_\+\+NAME\+\_\+\+MAX\+\_\+\+LENGTH~256}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{system_2api_8h_a34b0c66e99217e5d63d5ed060e4f3f15}\label{system_2api_8h_a34b0c66e99217e5d63d5ed060e4f3f15}} 
\index{api.h@{api.h}!sys\_init@{sys\_init}}
\index{sys\_init@{sys\_init}!api.h@{api.h}}
\doxysubsubsection{\texorpdfstring{sys\_init()}{sys\_init()}}
{\footnotesize\ttfamily int sys\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$}]{sys,  }\item[{struct \mbox{\hyperlink{struct_system_cfg__t}{System\+Cfg\+\_\+t}} $\ast$}]{cfg,  }\item[{struct \mbox{\hyperlink{struct_allocator__t}{Allocator\+\_\+t}} $\ast$}]{allocator }\end{DoxyParamCaption})}



Initialise the system. 

\mbox{\Hypertarget{system_2api_8h_a3fde534dc80777b0a716739c9e4ce002}\label{system_2api_8h_a3fde534dc80777b0a716739c9e4ce002}} 
\index{api.h@{api.h}!sys\_interrupt@{sys\_interrupt}}
\index{sys\_interrupt@{sys\_interrupt}!api.h@{api.h}}
\doxysubsubsection{\texorpdfstring{sys\_interrupt()}{sys\_interrupt()}}
{\footnotesize\ttfamily int sys\+\_\+interrupt (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$}]{sys,  }\item[{unsigned char}]{irq }\end{DoxyParamCaption})}



System interrupt function If an error occured (returned valued $>$ 0), an error is pushed in the system\textquotesingle{}s handler. 

\begin{DoxyReturn}{Returns}
0 if anything went well, $>$ 0 if an error occured. 
\end{DoxyReturn}
\mbox{\Hypertarget{system_2api_8h_a4a6ff14c5d10af9e666ed85757fe9d32}\label{system_2api_8h_a4a6ff14c5d10af9e666ed85757fe9d32}} 
\index{api.h@{api.h}!sys\_pop\_error@{sys\_pop\_error}}
\index{sys\_pop\_error@{sys\_pop\_error}!api.h@{api.h}}
\doxysubsubsection{\texorpdfstring{sys\_pop\_error()}{sys\_pop\_error()}}
{\footnotesize\ttfamily int sys\+\_\+pop\+\_\+error (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$}]{sys,  }\item[{struct \mbox{\hyperlink{struct_error__t}{Error\+\_\+t}} $\ast$}]{output }\end{DoxyParamCaption})}



Pop an error. 

If a system-\/related function fails, this function is used to pop the related error from the system. 
\begin{DoxyParams}{Parameters}
{\em sys} & The related system \\
\hline
{\em output} & The destination of the error (if returned value is 1) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if an error is available, 0 if not error is available. 
\end{DoxyReturn}
\mbox{\Hypertarget{system_2api_8h_aa67b56de8d0f22c9078686313f187c94}\label{system_2api_8h_aa67b56de8d0f22c9078686313f187c94}} 
\index{api.h@{api.h}!sys\_push\_error@{sys\_push\_error}}
\index{sys\_push\_error@{sys\_push\_error}!api.h@{api.h}}
\doxysubsubsection{\texorpdfstring{sys\_push\_error()}{sys\_push\_error()}}
{\footnotesize\ttfamily void sys\+\_\+push\+\_\+error (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$}]{sys,  }\item[{const int}]{code,  }\item[{const char $\ast$}]{msg }\end{DoxyParamCaption})}



Push an error. 

If a system-\/related function fails, this function is used to push the related error so it can be retrieved and analysed/displayed. The error is stored in a circular buffer and will remove old errors. \mbox{\Hypertarget{system_2api_8h_aae1442f63e2c5a0496d43d2cab24ba10}\label{system_2api_8h_aae1442f63e2c5a0496d43d2cab24ba10}} 
\index{api.h@{api.h}!sys\_step@{sys\_step}}
\index{sys\_step@{sys\_step}!api.h@{api.h}}
\doxysubsubsection{\texorpdfstring{sys\_step()}{sys\_step()}}
{\footnotesize\ttfamily int sys\+\_\+step (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_system__t}{System\+\_\+t}} $\ast$}]{sys }\end{DoxyParamCaption})}



System step function. 

This will call the step function store in the system. If an error occured (returned valued $>$ 0), an error is pushed in the system\textquotesingle{}s handler.

\begin{DoxyReturn}{Returns}
0 if anything went well, $>$ 0 if an error occured. 
\end{DoxyReturn}
